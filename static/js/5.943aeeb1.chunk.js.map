{"version":3,"sources":["shared/services/base.js","shared/services/index.js","pages/home.js","shared/assets/ic_shipping.png"],"names":["apiClient","axios","create","baseURL","process","interceptors","request","use","config","headers","error","Promise","reject","response","data","a","get","Items","post","put","delete","index","params","single","id","singleDescription","Home","useState","items","setItems","useContext","LoaderContext","isLoading","setIsLoading","search","URLSearchParams","useLocation","history","useHistory","fetchItems","useCallback","query","results","alert","useEffect","className","length","slice","map","el","onClick","e","preventDefault","push","src","thumbnail","alt","width","height","Intl","NumberFormat","format","price","shipping","free_shipping","title","address","state_name"],"mappings":"4KAEMA,E,OAAYC,EAAMC,OAAO,CAC7BC,QAASC,kCAGXJ,EAAUK,aAAaC,QAAQC,KAC7B,SAACC,GACC,OAAO,2BACFA,GADL,IAEEC,QAAS,QAGb,SAACC,GAAD,OAAWC,QAAQC,OAAOF,MAG5BV,EAAUK,aAAaQ,SAASN,KAC9B,SAACM,GAAD,OAAeA,EAASC,KAAOD,EAASC,KAAOD,IADjD,+BAAAE,EAAA,MAEE,WAAOL,GAAP,SAAAK,EAAA,+EACSJ,QAAQC,OAAOF,EAAMG,SAASC,OADvC,2CAFF,uDAOA,IAAQE,EAAoChB,EAApCgB,ICrBKC,GDqB+BjB,EAA/BkB,KAA+BlB,EAAzBmB,IAAyBnB,EAApBoB,OCrBH,CACnBC,MAAO,SAACC,GAAD,OAAYN,EAAI,sBAAD,OAAuBM,KAC7CC,OAAQ,SAACC,GAAD,OAAQR,EAAI,SAAD,OAAUQ,KAC7BC,kBAAmB,SAACD,GAAD,OAAQR,EAAI,SAAD,OAAUQ,EAAV,qB,qLCIjB,SAASE,IACtB,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAoCC,qBAAWC,KAAvCC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,aACbC,EAAS,IAAIC,gBAAgBC,cAAcF,QAAQlB,IAAI,UACzDqB,EAAUC,cAERC,EAAaC,sBAAW,uCAC5B,WAAOC,GAAP,eAAA1B,EAAA,6DACEkB,GAAa,GADf,kBAGwBhB,IAAMI,MAAMoB,GAHpC,OAGUb,EAHV,OAIIC,EAASD,EAAMc,SACfT,GAAa,GALjB,gDAOIU,MAAM,EAAD,IACLV,GAAa,GARjB,yDAD4B,sDAY5B,CAACA,IAGHW,qBAAU,WACRL,EAAWL,KACV,CAACA,EAAQK,IAOZ,OACE,oCACIP,GACA,qBAAIa,UAAU,OAAd,WACIjB,EAAMkB,QACN,oBAAID,UAAU,kBAAd,SACE,qBAAKA,UAAU,aAAf,+EAKDjB,EAAMkB,QACPlB,EAAMmB,MAAM,EAAG,GAAGC,KAAI,SAACC,GAAD,aACpB,qBAEEJ,UAAU,YACVK,QAAS,SAACC,GAAD,OArBE3B,EAqBqByB,EAAGzB,GAAI2B,EApB7CC,sBACNf,EAAQgB,KAAR,iBAAuB7B,IAFD,IAACA,GAkBb,UAKE,qBAAKqB,UAAU,uBAAf,SACE,qBACEA,UAAU,aACVS,IAAKL,EAAGM,UACRC,IAAI,yBACJC,MAAM,MACNC,OAAO,UAGX,sBAAKb,UAAU,sBAAf,UACE,uBAAMA,UAAU,aAAhB,eACI,IAAIc,KAAKC,cAAeC,OAAOZ,EAAGa,UAClC,OAACb,QAAD,IAACA,GAAD,UAACA,EAAIc,gBAAL,aAAC,EAAcC,gBACf,qBACEV,ICvET,6wBDwESE,IAAI,eACJX,UAAU,0BAIhB,oBAAIA,UAAU,aAAd,SAA4BI,EAAGgB,WAEjC,qBAAKpB,UAAU,yBAAf,SACE,sBAAMA,UAAU,eAAhB,SAAgCI,EAAGiB,QAAQC,iBA3BxClB,EAAGzB","file":"static/js/5.943aeeb1.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst apiClient = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL,\n});\n\napiClient.interceptors.request.use(\n  (config) => {\n    return {\n      ...config,\n      headers: {},\n    };\n  },\n  (error) => Promise.reject(error)\n);\n\napiClient.interceptors.response.use(\n  (response) => (response.data ? response.data : response),\n  async (error) => {\n    return Promise.reject(error.response.data);\n  }\n);\n\nconst { get, post, put, delete: destroy } = apiClient;\nexport { get, post, put, destroy };\n","import { get } from \"./base\";\n\nexport const Items = {\n  index: (params) => get(`sites/MLA/search?q=${params}`),\n  single: (id) => get(`items/${id}`),\n  singleDescription: (id) => get(`items/${id}/description`),\n};\n","import React, { useEffect, useState, useContext, useCallback } from \"react\";\nimport { useLocation, useHistory } from \"react-router\";\n\nimport { Items } from \"../shared/services\";\nimport { LoaderContext } from \"../shared/context/loader-context\";\nimport shippingIcon from \"../shared/assets/ic_shipping.png\";\n\nimport \"../styles/home.scss\";\n\nexport default function Home() {\n  const [items, setItems] = useState([]);\n  const { isLoading, setIsLoading } = useContext(LoaderContext);\n  const search = new URLSearchParams(useLocation().search).get(\"search\");\n  let history = useHistory();\n\n  const fetchItems = useCallback(\n    async (query) => {\n      setIsLoading(true);\n      try {\n        const items = await Items.index(query);\n        setItems(items.results);\n        setIsLoading(false);\n      } catch (error) {\n        alert(error);\n        setIsLoading(false);\n      }\n    },\n    [setIsLoading]\n  );\n\n  useEffect(() => {\n    fetchItems(search);\n  }, [search, fetchItems]);\n\n  const handleItemClick = (id, event) => {\n    event.preventDefault();\n    history.push(`/items/${id}`);\n  };\n\n  return (\n    <>\n      {!isLoading && (\n        <ol className=\"home\">\n          {!items.length && (\n            <li className=\"item-no-results\">\n              <div className=\"no-results\">\n                NO HAY RESULTADOS PARA ESTA BUSQUEDA, PRUEBE CON OTRA PALABRA\n              </div>\n            </li>\n          )}\n          {!!items.length &&\n            items.slice(0, 4).map((el) => (\n              <li\n                key={el.id}\n                className=\"item-list\"\n                onClick={(e) => handleItemClick(el.id, e)}\n              >\n                <div className=\"item-image-container\">\n                  <img\n                    className=\"item-image\"\n                    src={el.thumbnail}\n                    alt=\"Miniatura del producto\"\n                    width=\"160\"\n                    height=\"160\"\n                  />\n                </div>\n                <div className=\"item-info-container\">\n                  <span className=\"item-price\">\n                    ${new Intl.NumberFormat().format(el.price)}\n                    {!!el?.shipping?.free_shipping && (\n                      <img\n                        src={shippingIcon}\n                        alt=\"Envio gratis\"\n                        className=\"item-shipping-icon\"\n                      />\n                    )}\n                  </span>\n                  <h1 className=\"item-title\">{el.title}</h1>\n                </div>\n                <div className=\"item-address-container\">\n                  <span className=\"item-address\">{el.address.state_name}</span>\n                </div>\n              </li>\n            ))}\n        </ol>\n      )}\n    </>\n  );\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAfFJREFUOBGdVM1LFGEY/73vrCNukK27WRBkrsjSX+ApC4yuQoe6dDDMk0ehi54FO3sLyauBB/UWCn2cPIqIbVKWESRLzIKu2rI7r+/vaWd2ZhJWfWHm+f69zzwfo3DGuV0cHVJ+/SmUGjQGt+iiFH7BmI9GOwt7hbm1ZJiKKvJfR/rrVfXawNyP6pO8gvrguGbsW9/8TmALgXqLI/fqPpasIRMYW1DP0RjeLcx/op8AMZNaFetWPi9IcIeXcjHAzDQ1/JxLgDA004iFYmHh11ep5XE3D9G2c2TrakRWlrgbByhP5WHa5V7Rx17aeailOxFt58wuUPNtl2xJ7QOt4OwdIze6hfTifsSzyRIjxRbb65tay1We3IzJFJxSFe7nCjrGt+FN98PvTDV9LIYO5qSpPZur5dpQnszjZCiLq7M/Y07EiMDGbDGh8rg7lMlff7YZygGjZWIDqUGvvP2N3IstkPLo/b/omijKQz55iJHi2FtDIWpMr5RwMpgBaXq5JKZaPi00O/El6vqPtxj/tZ8WZtLx7g+OH2Wl8Mzi2qvvElR+eQf+jXbhw5dtv0x2z/bz9632KwxKMNy7H3ffPJAJ4wJau5fwOY/oNWIhQNwVLuAFwWRpgz9AOPPcYi4gU22VCn3oG2w+/aVGycDL/NhOAcfUuRqz001nAAAAAElFTkSuQmCC\""],"sourceRoot":""}