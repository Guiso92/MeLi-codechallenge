{"version":3,"sources":["shared/services/base.js","shared/services/index.js","pages/details.js"],"names":["apiClient","axios","create","baseURL","process","interceptors","request","use","config","headers","error","Promise","reject","response","data","a","get","Items","post","put","delete","index","params","single","id","singleDescription","Details","useParams","useContext","LoaderContext","isLoading","setIsLoading","useState","setData","description","setDescription","fetchData","useCallback","itemData","price","Intl","NumberFormat","format","itemDesc","useEffect","className","src","pictures","secure_url","alt","condition","sold_quantity","title","href","permalink","plain_text"],"mappings":"4KAEMA,E,OAAYC,EAAMC,OAAO,CAC7BC,QAASC,kCAGXJ,EAAUK,aAAaC,QAAQC,KAC7B,SAACC,GACC,OAAO,2BACFA,GADL,IAEEC,QAAS,QAGb,SAACC,GAAD,OAAWC,QAAQC,OAAOF,MAG5BV,EAAUK,aAAaQ,SAASN,KAC9B,SAACM,GAAD,OAAeA,EAASC,KAAOD,EAASC,KAAOD,IADjD,+BAAAE,EAAA,MAEE,WAAOL,GAAP,SAAAK,EAAA,+EACSJ,QAAQC,OAAOF,EAAMG,SAASC,OADvC,2CAFF,uDAOA,IAAQE,EAAoChB,EAApCgB,ICrBKC,GDqB+BjB,EAA/BkB,KAA+BlB,EAAzBmB,IAAyBnB,EAApBoB,OCrBH,CACnBC,MAAO,SAACC,GAAD,OAAYN,EAAI,sBAAD,OAAuBM,KAC7CC,OAAQ,SAACC,GAAD,OAAQR,EAAI,SAAD,OAAUQ,KAC7BC,kBAAmB,SAACD,GAAD,OAAQR,EAAI,SAAD,OAAUQ,EAAV,qB,qLCEjB,SAASE,IAAW,IAAD,EACxBF,EAAOG,cAAPH,GACR,EAAoCI,qBAAWC,KAAvCC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,aACnB,EAAwBC,mBAAS,MAAjC,mBAAOlB,EAAP,KAAamB,EAAb,KACA,EAAsCD,mBAAS,MAA/C,mBAAOE,EAAP,KAAoBC,EAApB,KAEMC,EAAYC,sBAAW,sBAAC,8BAAAtB,EAAA,6DAC5BgB,GAAa,GADe,kBAGHd,IAAMM,OAAOC,GAHV,cAGpBc,EAHoB,QAIjBC,OAAQ,IAAIC,KAAKC,cAAeC,OAAOJ,EAASC,OACzDN,EAAQK,GALkB,SAMHrB,IAAMQ,kBAAkBD,GANrB,OAMpBmB,EANoB,OAO1BR,EAAeQ,GACfZ,GAAa,GARa,kDAU1BA,GAAa,GAVa,0DAY3B,CAACP,EAAIO,IAMR,OAJAa,qBAAU,WACRR,MACC,CAACA,IAGF,sBAAKS,UAAS,kBAAcf,EAA2B,kBAAf,gBAAxC,WACIA,GAAahB,GACb,sBAAK+B,UAAU,eAAf,UACE,qBAAKA,UAAU,0BAAf,SACE,qBACEA,UAAU,gBACVC,IAAG,OAAEhC,QAAF,IAAEA,GAAF,UAAEA,EAAMiC,SAAS,UAAjB,aAAE,EAAmBC,WACxBC,IAAI,0BAGR,sBAAKJ,UAAU,yBAAf,UACE,qBAAKA,UAAU,kCAAf,SACE,sBAAMA,UAAU,wBAAhB,mBACqB,QAAnB/B,EAAKoC,UAAsB,QAAU,QADvC,cAEMpC,EAAKqC,cAFX,iBAIF,qBAAKN,UAAU,+BAAf,SACE,oBAAIA,UAAU,qBAAd,SAAoC/B,EAAKsC,UAE3C,qBAAKP,UAAU,+BAAf,SACE,uBAAMA,UAAU,qBAAhB,cAAuC/B,EAAKyB,WAE9C,qBAAKM,UAAU,gCAAf,SACE,mBAAGQ,KAAMvC,EAAKwC,UAAWT,UAAU,sBAAnC,8BAONf,GAAaI,GACb,sBAAKW,UAAU,sBAAf,UACE,sBAAMA,UAAU,4BAAhB,yCACA,mBAAGA,UAAU,gCAAb,SAA8CX,EAAYqB,iBAG5DzB,IAAchB,IAASoB,GACvB,qBAAKW,UAAU,aAAf,SACE,+HAAiG,mBAAGQ,KAAK,IAAR,qBAAjG","file":"static/js/4.76d4eb36.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst apiClient = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL,\n});\n\napiClient.interceptors.request.use(\n  (config) => {\n    return {\n      ...config,\n      headers: {},\n    };\n  },\n  (error) => Promise.reject(error)\n);\n\napiClient.interceptors.response.use(\n  (response) => (response.data ? response.data : response),\n  async (error) => {\n    return Promise.reject(error.response.data);\n  }\n);\n\nconst { get, post, put, delete: destroy } = apiClient;\nexport { get, post, put, destroy };\n","import { get } from \"./base\";\n\nexport const Items = {\n  index: (params) => get(`sites/MLA/search?q=${params}`),\n  single: (id) => get(`items/${id}`),\n  singleDescription: (id) => get(`items/${id}/description`),\n};\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\n\nimport { Items } from \"../shared/services\";\nimport { LoaderContext } from \"../shared/context/loader-context\";\nimport \"../styles/details.scss\";\n\nexport default function Details() {\n  const { id } = useParams();\n  const { isLoading, setIsLoading } = useContext(LoaderContext);\n  const [data, setData] = useState(null);\n  const [description, setDescription] = useState(null);\n\n  const fetchData = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const itemData = await Items.single(id);\n      itemData.price = new Intl.NumberFormat().format(itemData.price)\n      setData(itemData);\n      const itemDesc = await Items.singleDescription(id);\n      setDescription(itemDesc);\n      setIsLoading(false);\n    } catch (error) {\n      setIsLoading(false);\n    }\n  }, [id, setIsLoading]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return (\n    <div className={`details ${!isLoading ? 'details-load':'details-loading'}`}>\n      {!isLoading && data && (\n        <div className=\"details-data\">\n          <div className=\"details-image-container\">\n            <img\n              className=\"details-image\"\n              src={data?.pictures[0]?.secure_url}\n              alt=\"Imagen del producto\"\n            />\n          </div>\n          <div className=\"details-info-container\">\n            <div className=\"details-info-subtitle-container\">\n              <span className=\"details-info-subtitle\">{`${\n                data.condition === \"new\" ? \"Nuevo\" : \"Usado\"\n              } - ${data.sold_quantity} vendidos`}</span>\n            </div>\n            <div className=\"details-info-title-container\">\n              <h1 className=\"details-info-title\">{data.title}</h1>\n            </div>\n            <div className=\"details-info-price-container\">\n              <span className=\"details-info-price\">${data.price}</span>\n            </div>\n            <div className=\"details-info-button-container\">\n              <a href={data.permalink} className=\"details-info-button\">\n                Comprar\n              </a>\n            </div>\n          </div>\n        </div>\n      )}\n      {!isLoading && description && (\n        <div className=\"details-description\">\n          <span className=\"details-description-title\">Descripción del producto</span>\n          <p className=\"details-description-paragraph\">{description.plain_text}</p>\n        </div>\n      )}\n      {!isLoading && !data && !description && (\n        <div className=\"no-results\">\n          <span>NO HAY NADA RESULTADOS DISPONIBLES, POR FAVOR VUELVA A LA PANTALLA ANTERIOR HACIENDO CLICK <a href=\"/\">AQUÍ</a> O\n          INTENTE UNA NUEVA BUSQUEDA EN LA BARRA SUPERIOR.</span>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"sourceRoot":""}